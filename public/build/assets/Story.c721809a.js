import{B as g}from"./Button.70e194f8.js";import{B as U}from"./Checkbox.3327ed47.js";import{B as S,a as L}from"./Label.4b00b129.js";import{B as H}from"./ValidationErrors.9fb5c720.js";import{o as u,c,f as I,H as A,L as D,S as F,r as n,a as s,w as m,F as N,b as e,t as v,h as _,e as d,d as E,j as Y,R as G,n as k}from"./app.bb4aa9f7.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";import{B as O}from"./Authenticated.7b65fd8c.js";import{C as P}from"./Container.670f7bbf.js";/* empty css            */import"./ApplicationLogo.ed4dd330.js";const R={},T={class:"my-6 border-gray-700"};function W(a,t){return u(),c("hr",T)}const q=b(R,[["render",W]]),M={},J={class:"ml-3 text-lg text-white"};function K(a,t){return u(),c("span",J,[I(a.$slots,"default")])}const Q=b(M,[["render",K]]),X={layout:O,components:{Button:g,Container:P,CheckboxLabel:Q,HR:q,BreezeButton:g,BreezeInput:S,BreezeLabel:L,BreezeCheckbox:U,BreezeValidationErrors:H,Head:A,Link:D},props:{user:Object,teams:Object},data(){return{form:this.$inertia.form({name:this.user.name,email:this.user.email,arrives_on:this.user.arrives_on,has_arranged_transportation:this.user.has_arranged_transportation,chauffeur_name:this.user.chauffeur_name,reference:this.user.reference,has_medical_training:this.user.has_medical_training,tent_size:this.user.tent_size,other_tent_occupants:this.user.other_tent_occupants,dietary_preferences:this.user.dietary_preferences,initial_sustenance:this.user.initial_sustenance,departure_date:this.user.departure_date,avatar:null,joins_party_bus:this.user.joins_party_bus}),message:""}},methods:{submit(){this.form.patch(this.route("story.update",this.user),{preserveScroll:!0,resetOnSuccess:!1,onFinish:()=>{this.message="Your information has been saved",this.form.success=!0}})},submitAvatar(a){this.form.post(route("user.avatar",a),{forceFormData:!0})},confirmAttendance(a){F.Inertia.patch(route("story.update",this.user),{joins_in_2023:a})}}},Z={class:"p-6"},$={key:0,class:"rounded p-3 bg-green-600 mb-3"},ee={key:1,class:"mb-3"},te={key:2,class:"mb-3 rounded w-full font-normal tracking-widest flex justify-center py-6 px-8 bg-green-800 hover:bg-green-600 text-2xl font-serif"},oe={class:"mt-4"},se={class:"mt-4"},re={class:"flex flex-col justify-around gap-2 items-center border border-gray-700 p-6 rounded my-6"},ne={class:"flex flex-col justify-between gap-2"},ae={class:"flex items-center space-x-6"},le={class:"shrink-0"},ie=["src"],ue={class:"flex flex-col"},ce={class:"block"},me=e("span",{class:"sr-only"},"Choose File",-1),de=e("span",{class:"ml-3 text-xs text-gray-400",id:"file_input_help"}," SVG | PNG | JPG | GIF | max 500kB. ",-1),fe={key:0},_e={key:1},pe={class:"mt-4"},he={class:"block mt-4"},be={class:"flex items-center"},ye={key:0,class:"mt-4"},ge={class:"mt-4"},ve={class:"block mt-4"},ke={class:"flex items-center"},xe={class:"block mt-4"},we={class:"flex items-center"},Ve={class:"mt-4"},Be={class:"mt-4"},ze={class:"mt-4"},Ce={class:"mt-4"},je=e("option",{class:"w-100",value:""}," Don't care ",-1),Ue=e("option",{value:"beer"}," Beer ",-1),Se=e("option",{value:"wine"}," Wine ",-1),Le=e("option",{value:"soda"}," Soda ",-1),He=[je,Ue,Se,Le],Ie={class:"flex items-center justify-between mt-4"},Ae=e("i",{class:"fas fa-arrow-left mr-3"},null,-1);function De(a,t,y,Fe,o,f){const x=n("Head"),w=n("BreezeValidationErrors"),V=n("Button"),l=n("BreezeLabel"),i=n("BreezeInput"),p=n("BreezeCheckbox"),h=n("CheckboxLabel"),B=n("HR"),z=n("BreezeButton"),C=n("Link"),j=n("Container");return u(),c(N,null,[s(x,{title:"Tell us about your journey"}),s(j,{class:"rounded bg-gray-900/90 max-w-prose p-6 mb-6"},{default:m(()=>[e("div",Z,[s(w,{class:"mb-4"}),o.message?(u(),c("div",$,v(o.message),1)):_("",!0),y.user.joins_in_2023?_("",!0):(u(),c("div",ee,[s(V,{class:"rounded w-full font-normal tracking-widest flex justify-center py-6 px-8 bg-green-800 hover:bg-green-600 text-2xl font-serif",onClick:t[0]||(t[0]=r=>f.confirmAttendance(!0))},{default:m(()=>[d(" Confirm attendance for 2023 ")]),_:1})])),y.user.joins_in_2023?(u(),c("div",te," Attendance in 2023 confirmed! ")):_("",!0),e("form",{onSubmit:t[16]||(t[16]=E((...r)=>f.submit&&f.submit(...r),["prevent"]))},[e("div",null,[s(l,{for:"name",value:"Your name"}),s(i,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o.form.name,"onUpdate:modelValue":t[1]||(t[1]=r=>o.form.name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),e("div",oe,[s(l,{for:"email",value:"Your email"}),s(i,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o.form.email,"onUpdate:modelValue":t[2]||(t[2]=r=>o.form.email=r),required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",se,[s(l,{for:"reference",value:"Through whom have you been introduced to our festival?"}),s(i,{id:"reference",type:"text",class:"mt-1 block w-full",modelValue:o.form.reference,"onUpdate:modelValue":t[3]||(t[3]=r=>o.form.reference=r),autocomplete:"reference"},null,8,["modelValue"])]),e("div",re,[e("div",ne,[e("div",null,[e("div",ae,[e("div",le,[e("img",{class:"object-cover w-24 h-24 rounded-full overflow-hidden border border-gray-500",src:a.$page.props.auth.user.avatar,alt:"profile photo"},null,8,ie)]),e("div",ue,[e("label",ce,[me,e("input",{type:"file",onInput:t[4]||(t[4]=r=>this.form.avatar=r.target.files[0]),class:"block w-full text-base text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-gray-400 hover:file:bg-gray-900 hover:file:text-gray-100 file:cursor-pointer"},null,32),de]),e("div",{onClick:t[5]||(t[5]=r=>f.submitAvatar(a.$page.props.auth.user)),class:"cursor-pointer text-center w-full mt-2 font-serif font-normal tracking-widest text-white cursor-pointer p-3 rounded bg-gray-800 hover:bg-gray-500"},[o.form.recentlySuccessful?(u(),c("span",fe,"Picture changed")):(u(),c("span",_e,"Save avatar"))])])])])])]),e("div",pe,[s(l,{for:"arrives_on",value:"You will arrive on (thursday is only for the construction crew)"}),s(i,{id:"arrives_on",type:"date",min:"2023-06-02",max:"2023-06-05",class:"mt-1 block w-full",modelValue:o.form.arrives_on,"onUpdate:modelValue":t[6]||(t[6]=r=>o.form.arrives_on=r),autocomplete:"arrives_on"},null,8,["modelValue"])]),e("div",he,[e("label",be,[s(p,{name:"has_arranged_transportation",checked:o.form.has_arranged_transportation,"onUpdate:checked":t[7]||(t[7]=r=>o.form.has_arranged_transportation=r)},null,8,["checked"]),s(h,null,{default:m(()=>[d("Have you arranged transportation?")]),_:1})])]),o.form.has_arranged_transportation?(u(),c("div",ye,[s(l,{for:"chauffeur_name",value:"Cool! What is the name of your chauffeur?"}),s(i,{id:"chauffeur_name",type:"text",class:"mt-1 block w-full",modelValue:o.form.chauffeur_name,"onUpdate:modelValue":t[8]||(t[8]=r=>o.form.chauffeur_name=r),autocomplete:"chauffeur_name"},null,8,["modelValue"])])):_("",!0),e("div",ge,[s(l,{for:"departure_date",value:"You will depart on"}),s(i,{id:"departure_date",min:"2023-06-03",max:"2023-06-06",type:"date",class:"mt-1 block w-full",modelValue:o.form.departure_date,"onUpdate:modelValue":t[9]||(t[9]=r=>o.form.departure_date=r),autocomplete:"departure_date"},null,8,["modelValue"])]),e("div",ve,[e("label",ke,[s(p,{name:"joins_party_bus",checked:o.form.joins_party_bus,"onUpdate:checked":t[10]||(t[10]=r=>o.form.joins_party_bus=r)},null,8,["checked"]),s(h,null,{default:m(()=>[d(" I'm interested in travelling by party bus for an additional fee (more information will be provided later) ")]),_:1})])]),s(B),e("div",xe,[e("label",we,[s(p,{name:"has_medical_training",checked:o.form.has_medical_training,"onUpdate:checked":t[11]||(t[11]=r=>o.form.has_medical_training=r)},null,8,["checked"]),s(h,null,{default:m(()=>[d("Do you have any medical training (i.e. EHBO, BHV)")]),_:1})])]),e("div",Ve,[s(l,{for:"tent_size",value:"The size of your tent in # of people (to determine space on the grounds)"}),s(i,{id:"tent_size",type:"number",class:"mt-1 block w-full",modelValue:o.form.tent_size,"onUpdate:modelValue":t[12]||(t[12]=r=>o.form.tent_size=r),autocomplete:"tent_size"},null,8,["modelValue"])]),e("div",Be,[s(l,{for:"other_tent_occupants",value:"Name(s) of others sharing your tent, if any"}),s(i,{id:"other_tent_occupants",type:"text",class:"mt-1 block w-full",modelValue:o.form.other_tent_occupants,"onUpdate:modelValue":t[13]||(t[13]=r=>o.form.other_tent_occupants=r),autocomplete:"other_tent_occupants"},null,8,["modelValue"])]),e("div",ze,[s(l,{for:"dietary_preferences",value:"Do you have any dietary preferences (i.e. no meat, no milk)"}),s(i,{id:"dietary_preferences",type:"text",class:"mt-1 block w-full",modelValue:o.form.dietary_preferences,"onUpdate:modelValue":t[14]||(t[14]=r=>o.form.dietary_preferences=r),autocomplete:"dietary_preferences"},null,8,["modelValue"])]),e("div",Ce,[s(l,{for:"initial_sustenance",value:"What welcome package would you like?"}),Y(e("select",{name:"initial_sustenance",id:"initial_sustenance",class:"w-full bg-gray-400 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":t[15]||(t[15]=r=>o.form.initial_sustenance=r)},He,512),[[G,o.form.initial_sustenance]])])],32),e("div",Ie,[s(z,{onClick:f.submit,class:k({"opacity-25":o.form.processing,"bg-green-600":o.form.success}),disabled:o.form.processing},{default:m(()=>[d(v(o.form.processing?"Processing... ":"Update my journey")+" ",1),e("i",{class:k({"fas fa-spin fa-spinner ml-3":o.form.processing,"fas fa-check ml-3":o.form.success})},null,2)]),_:1},8,["onClick","class","disabled"]),s(C,{class:"text-gray-100 p-3 rounded hover:bg-gray-800",href:a.route("dashboard")},{default:m(()=>[Ae,d(" Back ")]),_:1},8,["href"])])])]),_:1})],64)}const Me=b(X,[["render",De]]);export{Me as default};
