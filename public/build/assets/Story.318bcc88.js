import{B as x}from"./Button.0b517e9e.js";import{B as U}from"./Checkbox.eb203c6d.js";import{B as L,a as S}from"./Label.10ad9e81.js";import{B as I}from"./ValidationErrors.8fa6bfab.js";import{o as u,c as d,f as A,H as D,L as F,S as N,r as n,a as s,w as i,i as Y,h as _,F as E,b as e,e as m,t as k,d as P,j as G,R as O,n as w}from"./app.bd05daa9.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{B as R}from"./Authenticated.c774c412.js";import{C as T}from"./Container.a0d17a60.js";import{H as W}from"./H2.561a1ec1.js";/* empty css            */import"./ApplicationLogo.cacf9285.js";const q={},M={class:"my-6 border-gray-700"};function J(a,t){return u(),d("hr",M)}const K=y(q,[["render",J]]),Q={},X={class:"ml-3 text-lg text-white"};function Z(a,t){return u(),d("span",X,[A(a.$slots,"default")])}const $=y(Q,[["render",Z]]),ee={layout:R,components:{H2:W,Button:x,Container:T,CheckboxLabel:$,HR:K,BreezeButton:x,BreezeInput:L,BreezeLabel:S,BreezeCheckbox:U,BreezeValidationErrors:I,Head:D,Link:F},props:{user:Object,teams:Object},data(){return{form:this.$inertia.form({name:this.user.name,email:this.user.email,arrives_on:this.user.arrives_on,has_arranged_transportation:this.user.has_arranged_transportation,chauffeur_name:this.user.chauffeur_name,reference:this.user.reference,has_medical_training:this.user.has_medical_training,tent_size:this.user.tent_size,other_tent_occupants:this.user.other_tent_occupants,dietary_preferences:this.user.dietary_preferences,initial_sustenance:this.user.initial_sustenance,departure_date:this.user.departure_date,avatar:null,joins_party_bus:this.user.joins_party_bus}),message:""}},methods:{submit(){this.form.patch(this.route("story.update",this.user),{resetOnSuccess:!0,onFinish:()=>{this.message="Your information has been saved",this.form.success=!0}})},submitAvatar(a){this.form.post(route("user.avatar",a),{forceFormData:!0})},confirmAttendance(a){N.Inertia.patch(route("story.update",this.user),{joins_in_2023:a})}}},te={class:"p-6"},oe={key:0,class:"mb-3 rounded text-white w-full font-normal tracking-widest flex justify-center py-6 px-8 bg-red-800 hover:bg-red-600 text-2xl font-serif"},se={key:1,class:"mb-3 rounded text-white w-full font-normal tracking-widest flex justify-center py-6 px-8 bg-green-800 hover:bg-green-600 text-2xl font-serif"},re={class:"flex gap-2"},ne={class:"p-6"},ae={key:0,class:"rounded p-3 bg-green-600 mb-3"},le={class:"mt-4"},ie={class:"mt-4"},ue={class:"flex flex-col justify-around gap-2 items-center border border-gray-700 p-6 rounded my-6"},ce={class:"flex flex-col justify-between gap-2"},de={class:"flex items-center space-x-6"},me={class:"shrink-0"},fe=["src"],_e={class:"flex flex-col"},pe={class:"block"},he=e("span",{class:"sr-only"},"Choose File",-1),be=e("span",{class:"ml-3 text-xs text-gray-400",id:"file_input_help"}," SVG | PNG | JPG | GIF | max 500kB. ",-1),ye={key:0},ge={key:1},ve={class:"mt-4"},xe={class:"block mt-4"},ke={class:"flex items-center"},we={key:0,class:"mt-4"},Ve={class:"mt-4"},Be={class:"block mt-4"},ze={class:"flex items-center"},je={class:"block mt-4"},Ce={class:"flex items-center"},He={class:"mt-4"},Ue={class:"mt-4"},Le={class:"mt-4"},Se={class:"mt-4"},Ie=e("option",{class:"w-100",value:""}," Don't care ",-1),Ae=e("option",{value:"beer"}," Beer ",-1),De=e("option",{value:"wine"}," Wine ",-1),Fe=e("option",{value:"soda"}," Soda ",-1),Ne=[Ie,Ae,De,Fe],Ye={class:"flex items-center justify-between mt-4"},Ee=e("i",{class:"fas fa-arrow-left mr-3"},null,-1);function Pe(a,t,p,Ge,o,f){const V=n("Head"),g=n("Button"),v=n("Container"),B=n("H2"),z=n("BreezeValidationErrors"),l=n("BreezeLabel"),c=n("BreezeInput"),h=n("BreezeCheckbox"),b=n("CheckboxLabel"),j=n("HR"),C=n("BreezeButton"),H=n("Link");return u(),d(E,null,[s(V,{title:"Tell us about your journey"}),s(v,{class:"rounded bg-gray-900/90 max-w-prose p-6 mb-6"},{default:i(()=>[e("div",te,[p.user.joins_in_2023===!1?(u(),d("div",oe," You are not joining us in 2023. ")):_("",!0),p.user.joins_in_2023?(u(),d("div",se," Attendance in 2023 confirmed! ")):_("",!0),e("div",re,[s(g,{class:"rounded w-full font-normal tracking-widest flex justify-center py-6 px-8 bg-green-800 hover:bg-green-600 text-2xl font-serif",onClick:t[0]||(t[0]=r=>f.confirmAttendance(!0))},{default:i(()=>[m(" Confirm attendance for 2023 ")]),_:1}),s(g,{class:"rounded w-full font-normal tracking-widest flex justify-center py-6 px-8 bg-red-800 hover:bg-red-600 text-2xl font-serif",onClick:t[1]||(t[1]=r=>f.confirmAttendance(!1))},{default:i(()=>[m(" I will not join in 2023 ")]),_:1})])])]),_:1}),p.user.joins_in_2023?(u(),Y(v,{key:0,class:"rounded bg-gray-900/90 max-w-prose p-6 mb-6"},{default:i(()=>[e("div",ne,[s(B,null,{default:i(()=>[m("Please provide your info below.")]),_:1}),s(z,{class:"mb-4"}),o.message?(u(),d("div",ae,k(o.message),1)):_("",!0),e("form",{onSubmit:t[17]||(t[17]=P((...r)=>f.submit&&f.submit(...r),["prevent"]))},[e("div",null,[s(l,{for:"name",value:"Your name"}),s(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o.form.name,"onUpdate:modelValue":t[2]||(t[2]=r=>o.form.name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),e("div",le,[s(l,{for:"email",value:"Your email"}),s(c,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o.form.email,"onUpdate:modelValue":t[3]||(t[3]=r=>o.form.email=r),required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",ie,[s(l,{for:"reference",value:"Through whom have you been introduced to our festival?"}),s(c,{id:"reference",type:"text",class:"mt-1 block w-full",modelValue:o.form.reference,"onUpdate:modelValue":t[4]||(t[4]=r=>o.form.reference=r),autocomplete:"reference"},null,8,["modelValue"])]),e("div",ue,[e("div",ce,[e("div",null,[e("div",de,[e("div",me,[e("img",{class:"object-cover w-24 h-24 rounded-full overflow-hidden border border-gray-500",src:a.$page.props.auth.user.avatar,alt:"profile photo"},null,8,fe)]),e("div",_e,[e("label",pe,[he,e("input",{type:"file",onInput:t[5]||(t[5]=r=>this.form.avatar=r.target.files[0]),class:"block w-full text-base text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-gray-400 hover:file:bg-gray-900 hover:file:text-gray-100 file:cursor-pointer"},null,32),be]),e("div",{onClick:t[6]||(t[6]=r=>f.submitAvatar(a.$page.props.auth.user)),class:"cursor-pointer text-center w-full mt-2 font-serif font-normal tracking-widest text-white cursor-pointer p-3 rounded bg-gray-800 hover:bg-gray-500"},[o.form.recentlySuccessful?(u(),d("span",ye,"Picture changed")):(u(),d("span",ge,"Save avatar"))])])])])])]),e("div",ve,[s(l,{for:"arrives_on",value:"You will arrive on (thursday is only for the construction crew)"}),s(c,{id:"arrives_on",type:"date",min:"2023-06-01",max:"2023-06-05",class:"mt-1 block w-full",modelValue:o.form.arrives_on,"onUpdate:modelValue":t[7]||(t[7]=r=>o.form.arrives_on=r),autocomplete:"arrives_on"},null,8,["modelValue"])]),e("div",xe,[e("label",ke,[s(h,{name:"has_arranged_transportation",checked:o.form.has_arranged_transportation,"onUpdate:checked":t[8]||(t[8]=r=>o.form.has_arranged_transportation=r)},null,8,["checked"]),s(b,null,{default:i(()=>[m("Have you arranged transportation?")]),_:1})])]),o.form.has_arranged_transportation?(u(),d("div",we,[s(l,{for:"chauffeur_name",value:"Cool! What is the name of your chauffeur?"}),s(c,{id:"chauffeur_name",type:"text",class:"mt-1 block w-full",modelValue:o.form.chauffeur_name,"onUpdate:modelValue":t[9]||(t[9]=r=>o.form.chauffeur_name=r),autocomplete:"chauffeur_name"},null,8,["modelValue"])])):_("",!0),e("div",Ve,[s(l,{for:"departure_date",value:"You will depart on"}),s(c,{id:"departure_date",min:"2023-06-03",max:"2023-06-06",type:"date",class:"mt-1 block w-full",modelValue:o.form.departure_date,"onUpdate:modelValue":t[10]||(t[10]=r=>o.form.departure_date=r),autocomplete:"departure_date"},null,8,["modelValue"])]),e("div",Be,[e("label",ze,[s(h,{name:"joins_party_bus",checked:o.form.joins_party_bus,"onUpdate:checked":t[11]||(t[11]=r=>o.form.joins_party_bus=r)},null,8,["checked"]),s(b,null,{default:i(()=>[m(" I'm interested in travelling by party bus for an additional fee (more information will be provided later) ")]),_:1})])]),s(j),e("div",je,[e("label",Ce,[s(h,{name:"has_medical_training",checked:o.form.has_medical_training,"onUpdate:checked":t[12]||(t[12]=r=>o.form.has_medical_training=r)},null,8,["checked"]),s(b,null,{default:i(()=>[m("Do you have any medical training (i.e. EHBO, BHV)")]),_:1})])]),e("div",He,[s(l,{for:"tent_size",value:"The size of your tent in # of people (to determine space on the grounds)"}),s(c,{id:"tent_size",type:"number",class:"mt-1 block w-full",modelValue:o.form.tent_size,"onUpdate:modelValue":t[13]||(t[13]=r=>o.form.tent_size=r),autocomplete:"tent_size"},null,8,["modelValue"])]),e("div",Ue,[s(l,{for:"other_tent_occupants",value:"Name(s) of others sharing your tent, if any"}),s(c,{id:"other_tent_occupants",type:"text",class:"mt-1 block w-full",modelValue:o.form.other_tent_occupants,"onUpdate:modelValue":t[14]||(t[14]=r=>o.form.other_tent_occupants=r),autocomplete:"other_tent_occupants"},null,8,["modelValue"])]),e("div",Le,[s(l,{for:"dietary_preferences",value:"Do you have any dietary preferences (i.e. no meat, no milk)"}),s(c,{id:"dietary_preferences",type:"text",class:"mt-1 block w-full",modelValue:o.form.dietary_preferences,"onUpdate:modelValue":t[15]||(t[15]=r=>o.form.dietary_preferences=r),autocomplete:"dietary_preferences"},null,8,["modelValue"])]),e("div",Se,[s(l,{for:"initial_sustenance",value:"What welcome package would you like?"}),G(e("select",{name:"initial_sustenance",id:"initial_sustenance",class:"w-full bg-gray-400 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":t[16]||(t[16]=r=>o.form.initial_sustenance=r)},Ne,512),[[O,o.form.initial_sustenance]])])],32),e("div",Ye,[s(C,{onClick:f.submit,class:w({"opacity-25":o.form.processing,"bg-green-600":o.form.success}),disabled:o.form.processing},{default:i(()=>[m(k(o.form.processing?"Processing... ":"Update my journey")+" ",1),e("i",{class:w({"fas fa-spin fa-spinner ml-3":o.form.processing,"fas fa-check ml-3":o.form.success})},null,2)]),_:1},8,["onClick","class","disabled"]),s(H,{class:"text-gray-100 p-3 rounded hover:bg-gray-800",href:a.route("dashboard")},{default:i(()=>[Ee,m(" Back ")]),_:1},8,["href"])])])]),_:1})):_("",!0)],64)}const $e=y(ee,[["render",Pe]]);export{$e as default};
