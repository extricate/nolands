import{B as j,a as U}from"./Guest.ca0b6472.js";import{B as C}from"./Checkbox.feedb4a1.js";import{B as L,a as S,b as T}from"./ValidationErrors.a58c223a.js";import{o as n,c as a,F as y,g as H,b as t,h as d,e as v,t as f,n as g,H as O,L as Y,r as m,a as r,j as D,x as E,w as k,d as N}from"./app.655e6c94.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";import"./ApplicationLogo.39f0f35d.js";/* empty css            */const F={props:{teams:Object,user:Object},data(){return{form:this.$inertia.form({team_choice_first:this.user.team_choice_first,team_choice_second:this.user.team_choice_second,team_choice_third:this.user.team_choice_third})}},methods:{select(u){[this.user.team_choice_first,this.user.team_choice_second,this.user.team_choice_third].includes(u)||(this.user.team_choice_first||(this.form.team_choice_first=u,this.submit()),this.user.team_choice_first&&!this.user.team_choice_second&&(this.form.team_choice_second=u,this.submit()),this.user.team_choice_second&&!this.user.team_choice_third&&(this.form.team_choice_third=u,this.submit()))},submit(){this.form.patch(this.route("story.update",this.user),{preserveScroll:!0,onFinish:()=>{this.message="Team preference updated",this.form.success=!0}})},clear(){this.form.team_choice_first=null,this.form.team_choice_second=null,this.form.team_choice_third=null,this.submit()}}},P=t("div",{class:"text-white mb-2 mt-3"}," You may indicate three preferences for the team you will be joining. If we do not receive your preference you will be put in the cleanup crew. ",-1),I={class:"cursor-pointer"},q=["onClick","title"],M={class:"uppercase font-bold flex flex-inline justify-center items-center"},W={key:0,class:"rounded-full bg-green-200 items-center px-2 mr-2 text-sm"},G={key:1,class:"rounded-full bg-green-200 items-center px-2 mr-2 text-sm"},R={key:2,class:"rounded-full bg-green-200 items-center px-2 mr-2 text-sm"},A={class:"flex justify-center"},J={key:0,class:"text-sm p-1"};function K(u,s,h,w,e,_){return n(),a(y,null,[P,(n(!0),a(y,null,H(h.teams,i=>(n(),a("div",I,[t("div",{class:g([{"bg-green-200":[e.form.team_choice_first,e.form.team_choice_second,e.form.team_choice_third].includes(p=>i.id===p)},"bg-gray-100 mb-2 rounded p-2"]),onClick:p=>_.select(i.id),title:i.description},[t("div",M,[e.form.team_choice_first===i.id?(n(),a("div",W," first ")):d("",!0),e.form.team_choice_second===i.id?(n(),a("div",G," second ")):d("",!0),e.form.team_choice_third===i.id?(n(),a("div",R," third ")):d("",!0),v(" "+f(i.name),1)]),t("div",A,f(i.category),1),e.form.team_choice_first===i.id||e.form.team_choice_second===i.id||e.form.team_choice_third===i.id?(n(),a("div",J,f(i.description),1)):d("",!0)],10,q)]))),256)),t("div",{class:"text-white cursor-pointer",onClick:s[0]||(s[0]=(...i)=>_.clear&&_.clear(...i))},"Reset preferences")],64)}const Q=x(F,[["render",K]]),X={layout:j,components:{TeamPreference:Q,BreezeButton:U,BreezeInput:L,BreezeLabel:S,BreezeCheckbox:C,BreezeValidationErrors:T,Head:O,Link:Y},props:{user:Object,teams:Object},data(){return{form:this.$inertia.form({name:this.user.name,email:this.user.email,arrives_on:this.user.arrives_on,has_arranged_transportation:this.user.has_arranged_transportation,chauffeur_name:this.user.chauffeur_name,has_medical_training:this.user.has_medical_training,tent_size:this.user.tent_size,other_tent_occupants:this.user.other_tent_occupants,dietary_preferences:this.user.dietary_preferences,has_blankets:this.user.has_blankets,initial_sustenance:this.user.initial_sustenance,departure_date:this.user.departure_date}),message:""}},methods:{submit(){this.form.patch(this.route("story.update",this.user),{preserveScroll:!0,resetOnSuccess:!1,onFinish:()=>{this.message="Your journey has been adjusted",this.form.success=!0}})}}},Z={key:0,class:"rounded p-3 bg-green-600 mb-3"},$={class:"mt-4"},ee={class:"mt-4"},te={class:"block mt-4"},se={class:"flex items-center"},oe=t("span",{class:"ml-2 text-sm text-gray-100"},"Have you already arranged transportation?",-1),re={key:0,class:"mt-4"},ie={class:"block mt-4"},ne={class:"flex items-center"},ae=t("span",{class:"ml-2 text-sm text-gray-100"},"Do you have any medical training (i.e. EHBO, BHV)",-1),le={class:"mt-4"},ce={class:"mt-4"},me={class:"mt-4"},ue={class:"block mt-4"},_e={class:"flex items-center"},de=t("span",{class:"ml-2 text-sm text-gray-100"},"Do you have any old white blankets that we can have?",-1),fe={class:"mt-4"},he=t("option",{class:"w-100",value:""}," I do not know what I like ",-1),pe=t("option",{value:"beer"}," Beer ",-1),be=t("option",{value:"wine"}," Two bottles of wine ",-1),ye=t("option",{value:"soda"}," Soda ",-1),ve=[he,pe,be,ye],ge={class:"mt-4"},ke={class:"flex items-center justify-between mt-4"},xe=t("i",{class:"fas fa-arrow-left mr-3"},null,-1);function we(u,s,h,w,e,_){const i=m("Head"),p=m("BreezeValidationErrors"),l=m("BreezeLabel"),c=m("BreezeInput"),b=m("BreezeCheckbox"),V=m("Link"),B=m("BreezeButton"),z=m("TeamPreference");return n(),a(y,null,[r(i,{title:"Tell us about your journey"}),r(p,{class:"mb-4"}),e.message?(n(),a("div",Z,f(e.message),1)):d("",!0),t("form",{onSubmit:s[12]||(s[12]=N((...o)=>_.submit&&_.submit(...o),["prevent"]))},[t("div",null,[r(l,{for:"name",value:"Your name"}),r(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=o=>e.form.name=o),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),t("div",$,[r(l,{for:"email",value:"Your email"}),r(c,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":s[1]||(s[1]=o=>e.form.email=o),required:"",autocomplete:"username"},null,8,["modelValue"])]),t("div",ee,[r(l,{for:"arrives_on",value:"You will arrive on (thursday is only for the construction crew)"}),r(c,{id:"arrives_on",type:"date",min:"2022-06-02",max:"2022-06-05",class:"mt-1 block w-full",modelValue:e.form.arrives_on,"onUpdate:modelValue":s[2]||(s[2]=o=>e.form.arrives_on=o),autocomplete:"arrives_on"},null,8,["modelValue"])]),t("div",te,[t("label",se,[r(b,{name:"has_arranged_transportation",checked:e.form.has_arranged_transportation,"onUpdate:checked":s[3]||(s[3]=o=>e.form.has_arranged_transportation=o)},null,8,["checked"]),oe])]),e.form.has_arranged_transportation?(n(),a("div",re,[r(l,{for:"chauffeur_name",value:"Cool! What is the name of your chauffeur?"}),r(c,{id:"chauffeur_name",type:"text",class:"mt-1 block w-full",modelValue:e.form.chauffeur_name,"onUpdate:modelValue":s[4]||(s[4]=o=>e.form.chauffeur_name=o),autocomplete:"chauffeur_name"},null,8,["modelValue"])])):d("",!0),t("div",ie,[t("label",ne,[r(b,{name:"has_medical_training",checked:e.form.has_medical_training,"onUpdate:checked":s[5]||(s[5]=o=>e.form.has_medical_training=o)},null,8,["checked"]),ae])]),t("div",le,[r(l,{for:"tent_size",value:"The size of your tent in # of people (to determine space on the grounds)"}),r(c,{id:"tent_size",type:"number",class:"mt-1 block w-full",modelValue:e.form.tent_size,"onUpdate:modelValue":s[6]||(s[6]=o=>e.form.tent_size=o),autocomplete:"tent_size"},null,8,["modelValue"])]),t("div",ce,[r(l,{for:"other_tent_occupants",value:"Name(s) of others sharing your tent, if any"}),r(c,{id:"other_tent_occupants",type:"text",class:"mt-1 block w-full",modelValue:e.form.other_tent_occupants,"onUpdate:modelValue":s[7]||(s[7]=o=>e.form.other_tent_occupants=o),autocomplete:"other_tent_occupants"},null,8,["modelValue"])]),t("div",me,[r(l,{for:"dietary_preferences",value:"Do you have any dietary preferences (i.e. no meat, no milk)"}),r(c,{id:"dietary_preferences",type:"text",class:"mt-1 block w-full",modelValue:e.form.dietary_preferences,"onUpdate:modelValue":s[8]||(s[8]=o=>e.form.dietary_preferences=o),autocomplete:"dietary_preferences"},null,8,["modelValue"])]),t("div",ue,[t("label",_e,[r(b,{name:"has_blankets",checked:e.form.has_blankets,"onUpdate:checked":s[9]||(s[9]=o=>e.form.has_blankets=o)},null,8,["checked"]),de])]),t("div",fe,[r(l,{for:"initial_sustenance",value:"What welcome package would you like?"}),D(t("select",{name:"initial_sustenance",id:"initial_sustenance",class:"w-full bg-gray-400 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[10]||(s[10]=o=>e.form.initial_sustenance=o)},ve,512),[[E,e.form.initial_sustenance]])]),t("div",ge,[r(l,{for:"departure_date",value:"You will depart on"}),r(c,{id:"departure_date",min:"2022-06-03",max:"2022-06-06",type:"date",class:"mt-1 block w-full",modelValue:e.form.departure_date,"onUpdate:modelValue":s[11]||(s[11]=o=>e.form.departure_date=o),autocomplete:"departure_date"},null,8,["modelValue"])]),t("div",ke,[r(V,{class:"text-gray-100",href:u.route("dashboard")},{default:k(()=>[xe,v(" Back ")]),_:1},8,["href"]),r(B,{class:g(["ml-4",{"opacity-25":e.form.processing,"bg-green-600":e.form.success}]),disabled:e.form.processing},{default:k(()=>[v(f(e.form.processing?"Processing... ":"Update my journey")+" ",1),t("i",{class:g({"fas fa-spin fa-spinner ml-3":e.form.processing,"fas fa-check ml-3":e.form.success})},null,2)]),_:1},8,["class","disabled"])])],32),r(z,{teams:h.teams,user:h.user},null,8,["teams","user"])],64)}const Se=x(X,[["render",we]]);export{Se as default};
